#!/usr/bin/env python3
import re
import youtube_dl
import subprocess
import time
import os

# seconds
RIGHT_PAD = 0.4
LEFT_PAD = 0.0

CACHED_NO_SUBTITLES_FILE = "cached_no_subtitles.txt"

with open(CACHED_NO_SUBTITLES_FILE) as f:
    cached_no_subtitles = set(f.read().splitlines())

class Interval:
    def __init__(self, start_time, end_time, match_string):
        """
        start_time and end_time should be strings hh:mm:ss[.xxx]
        match_string is the string that the Interval matches
        """
        self.start_time = start_time
        self.end_time = end_time
        self.match_string = match_string

    def __repr__(self):
        return f"Interval({self.start_time}, {self.end_time}, {self.match_string})"

TIMESTAMP_REGEX = r'\d+:\d{2}:\d{2}\.\d{3}'
TIME_WORD_1_REGEX = rf"(?P<time1>{TIMESTAMP_REGEX}) --> .*\n.*\n(?P<word1>[^<\n]+)(?=<)"
TIME_WORD_2_REGEX = rf"<(?P<time2>{TIMESTAMP_REGEX})><c> (?P<word2>[^<]+)</c>"
TIME_WORD_REGEX = re.compile(rf"{TIME_WORD_1_REGEX}|{TIME_WORD_2_REGEX}")
FINAL_TIME_REGEX = re.compile(rf"--> (?P<time>{TIMESTAMP_REGEX})")
def get_time_intervals(regex, subtitle):
    """
    Get the time intervals of all phrases that match `regex` in the space-separated words of `subtitle`.

    Returns a iterator of `Interval`s times in the format hh:mm:ss.000

    Only tested to work for autogenerated subtitles in VTT format from YouTube's autogeneration.
    """
    # module webvtt only gets the line-captions, not individual words, so it's time for some regex!
    # The time corresponding to a word is when that word *starts*
    # words = (match.group("word") for match in WORD_REGEX.finditer(subtitle))
    time_words = [
        (m.group("time1") or m.group("time2"), m.group("word1") or m.group("word2"))
        for m in TIME_WORD_REGEX.finditer(subtitle)
    ]
    # Incorrect format, which would lead to trouble zipping
    if len(time_words) == 0:
        return []
    times, words = zip(*time_words)
    # Quickly search lines starting from the end
    final_time = next(match.group("time") for line in reversed(subtitle.split("\n")) for match in [re.search(FINAL_TIME_REGEX, line)] if match)
    # timestamps[i] is the time the word starts at if i is the index of the start of a word
    timestamps = {}
    # Build search_str while computing time_stamps by adding one word and one space at a time
    search_str = ''
    words = list(words)
    for word, time in zip(words, times):
        timestamps[len(search_str)] = time
        search_str += word + ' '
    timestamps[len(search_str)] = final_time
    # Trim off the final space
    # Inconsistent capitalization, so just lowercase
    search_str = search_str[:-1].lower()
    for match in re.finditer(regex, search_str):
        start, end = match.span()
        yield Interval(
            timestamps[max(i for i in timestamps if i<=start)],
            timestamps[min(i for i in timestamps if i>end)],
            match.group(0)
        )

def subtitle_filename(video_id):
    return f"subtitles/{video_id}.en.vtt"

def download_subtitles(video_ids):
    ydl_opts = {
        'skip_download': True,
        'writeautomaticsub': True,
        'outtmpl': 'subtitles/%(id)s',
        'subtitleslangs': ['en']
    }
    for video_id in video_ids:
        filename = subtitle_filename(video_id)
        # Don't download if these subtitles are already downloaded
        # or if we know there are no subtitles on the video
        if video_id not in cached_no_subtitles and not os.path.isfile(filename) :
            with youtube_dl.YoutubeDL(ydl_opts) as ydl:
                # assume downloaded subtitle is correct
                ydl.download([video_id])
                # Delay to be nice to the server
                time.sleep(2)
        try:
            with open(filename) as f:
                yield video_id, f.read()
        except IOError:
            with open(CACHED_NO_SUBTITLES_FILE, "a") as f:
                f.write(video_id + '\n')
            cached_no_subtitles.add(video_id)
            yield video_id, ""

def parse_time(time):
    h,m,s = [float(t) for t in time.split(":")]
    return 3600*h+60*m+s

def download_intervals(video_id, intervals):
    for i in intervals:
        start = parse_time(i.start_time)
        end = parse_time(i.end_time)
        start = start - LEFT_PAD
        duration = end - start + RIGHT_PAD
        sanitized_match_string = re.sub('[^a-zA-Z0-9_-]', '_', i.match_string)
        filename = f"clips/{sanitized_match_string}+{video_id}+{i.start_time}.mp4"
        if not os.path.isfile(filename):
            subprocess.run(['bash', 'download_clip.bash', video_id, str(start), str(duration), filename])
            # Delay between video downloads to respect the server
            time.sleep(2)

def download_clips(video_ids, regex=None, dry=False, limit=-1):
    """
    Pass dry=True to not download any clips
    Pass regex=None to additionally not even determine the intervals
    In all cases, subtitles will be downloaded
    """
    # extract just first 11 character id in case something longer is passed
    video_ids = [video_id[:11] for video_id in video_ids]
    num_remaining = limit
    for i, (video_id, subtitle) in enumerate(download_subtitles(video_ids)):
        print(f"[info] considering video {i+1}/{len(video_ids)}: {video_id}")
        if not regex:
            print("[info] subtitles done; continuing")
            continue
        if not subtitle:
            print(f"WARNING: {video_id} lacks automatic captions")
            continue
        intervals = list(get_time_intervals(regex, subtitle))
        intervals = intervals[:num_remaining] if num_remaining > 0 else intervals
        print(f"[info] downloading {len(intervals)} interval{'s'[:len(intervals)!=1]}")
        if dry:
            print("[intervals]", intervals)
        else:
            download_intervals(video_id, intervals)
        num_remaining -= len(intervals)
        if num_remaining == 0:
            break
    print(f"[info] Number downloaded: {limit - num_remaining}")

videos = ["_Fz1pO7nI50", "5pGepIfFxzQ", "bIC0x8OSNzg", "d-hBDjYtE1U", "Pa6VWW7zYJw", "qYbNxE_SEIk", "81gXBVKF19o", "nOqDkdekaVE", "qvacFG9GyOM", "8b9y8QvxenU", "H6MuZhzqKGA", "avwt39uHDOQ", "oFktnCdbavA", "pTys_WYBOLE", "1lLiDnFTsOk", "D1ejvQ0UUNY", "vn0xMtHhgSQ", "JDNoMbjxBMI", "94z0OJ_-4Lo", "vMulHvAznwM", "D0foSHWP7rc&t=5s", "EdD5oS5yaqg", "o6lteqXZdrA", "26OYMHIhK2U", "aY36o7JY4bo", "DvkSYh2dkN8", "WqE3leevbdg", "lF0uiRS8asc", "pLUGPqw0oks", "ZpX2b2t00Lg", "soyWGLnzeeI", "Gl7gt0SeBi8", "uPqwp7TPGzQ", "-d760fMfiNc", "mG9RHjC9rTM", "uukkzSy3Aw8", "EA5wr3qTVOc", "YzncNl6N18s", "c2DcfJLquOk", "J5Kxm8I1BXU", "mjArO09tGaI", "_iEP_uKOdrQ", "ZW3s1iks0No", "8WkNoA_ki9c", "njU3r3aWm3k", "ixPFDFp8Cfo", "nk6KrBsDwDE", "-aOh4D2GKaw", "TTcrdX7dIZ8", "v_IPY3MM3Yc", "lkfBKQuLkRc", "Cw0EPb3S8v4", "APvmp-rp_D0", "Csa01fsnCQE", "K2KNc4g-0yI", "bLIawIQp3pk", "jHTpW7euAns", "M7q0Qbpa34U", "DuZWhRaLzhk", "lqUapRX9EsY", "isQPh9Gx0q4", "n0cUqNwYcoI", "Joed0P3hhbc", "RR31o8x1OvU", "rco9WLJ82u0", "3N84iZ68cXQ", "OvzMEwVnB2w", "VAIONzHzlXk", "ogELZ78OfyM", "KHvfwpnPwwU", "pRdT07TSSs0", "BO_XEpdw2jA", "ZCKw0nWkpfs", "XXW27KKHtc8", "onHJuyDjbsM", "Tfm-W_DSdXw", "EpDMsPgnh_M", "dTObKtHzroM", "7L8XvasJzdQ", "EXHjirjUJUk", "KcZPIfIbG5o", "0SEHUqkbIjU", "a_oAkbzSKxo", "WAtxEpMDeNk", "oZLNQl0bk1c", "_rGvb2yYh1M", "nz6NxH3wy94", "ToQT_i4I6vI", "ANsipsS7IK8", "T5YsZLJ5FjY", "uUVye2mdwew", "QgOpSFyin8M", "mgWEIiIfGsQ", "z4lVylO7y5U", "TU3nNaIkQLQ", "9_wvQGdCF94", "u2HUXZ61EY8", "78GFp2zTPoo", "6DA92d93FRI", "ke418cAUcPs", "ympVA0GW1jE", "6RSXQsYYso4", "D5Y7R7-4FnA", "wOedgb2zC5s", "slwqiGh0Fak", "nHJWcFe27S0", "EIQkBlo1L8k", "uK3BbETDYis", "_C7bJiFTfFs", "q8AP5XYs8jg", "Zhz9g6A_fuI", "Chu4mvEUc5I", "U__RaOy39Sg", "i7g-TvczpSw", "rbf_NX0-Uj0", "mAyTv64YkTI", "va7PBIQ4CJ8", "Um2Me3Iuv5Q", "nmL-fwtjVUA", "GD0JbDyGOsA", "MK83CkvLbcQ", "i_xZSTF_Uq0", "kSZuVW_1yi8", "cNHY90uQ2eY", "iqsAjzm-qtA", "oPiCgf4U6oE", "hnj8gGf2e7E", "NQjH3-6Qm7c", "o5BRy93769U", "1D_vCWzX_Rw", "5kWBZz7dFxw", "SUfOQ5XeS5Q", "nDgC8JOQhiM", "AMyaeLu-vk0", "PtdiO1ZiiXk", "DYBvijAJ6is", "lZ5hfrCz4xk", "wh6hX21jDzE", "nnIdDkiAMnE", "rg9k12aTR5o", "-4KJIzxbt8Y", "3yi75YlpiT0", "pji33MoJ5Z4", "IkPxOG3Ifzs", "aIqRimZ7BVw", "2_9x9iiJ_Z0", "PIN5RE53q-k", "91j3Td52XRo", "gMT-lfeNzTw", "pAfYOGTbbyU", "YhR4klyAqP4", "yorlFRAyw1A", "nJu_-Iuppc0", "bX-6LFPSQuk", "O74Q1VTz4j4", "byYGPO4ptxs", "Is7qSijW-3s", "O9L9yXswSxI", "CGsyVoteOOg", "M3kLUJd4EoA", "yHhO7Qx-D_Y", "9G9oGQ-PbqM", "dYAKLa3CETk", "wf3RSYU2GSg", "l2LvDHobpNc", "VNWSx6v4vxg", "AsxPX5fXlFo", "EyFop7vyAjc", "J6y-_dhHlHA", "lpI2GoHtU9c", "PIVkD8x6qNw", "agq42yz2ACg", "7FTvYN18eUU", "Y-lE4Tz2I_Y", "Br1HR-LUgXg", "ve3OM1X2hDg", "4YI3zlxfjNk", "QRO5wzAaT00", "GIwCGk-ABNQ", "vfQthafhT-U", "CUmLf-Wsr0o", "QGgX8H9vWLo", "UBAFthdYbgw", "ByO3K59qxSI", "tnQC0YZgyTo", "cyK6ADLZBAA", "0QdZlwigQsU", "NaAHZpqSQY0", "AJur6roKktc", "t2l4PVJkhzQ", "OeEXQlQMH2E", "HhlkxBQdXMM", "3yXCUpzCOF0", "RV8bPx_n4zU", "V0hIO-xoaxc", "SEpWpD0NlPE", "aWL9yDjk3GQ", "28-lrKkRUvU", "UlNkQJzw4oA", "iGzTUBntPa8", "aPFGf_DJvDI", "-W8N06QqK8A", "7eOt2mHEAOM", "DFbhGu6Lmeg", "kHFhoDcc4z4", "z_CFkhExRSI", "nwgwCmh7SGg", "3PA2jYe0HOA", "w-bndzHmMfg", "cPOwyAJ3DG8", "F_38TFES88I", "W--bw7vU6_g", "YS_QhzhLxp8", "BRgHgok9bwk", "dleQ_bcbMJo", "2ze5S4lZbkU", "kbeD1shCNYA", "oxfUmcMzx08", "yLhfsefdhQc", "cCay5ek_cW0", "3OjnPW6QkIA", "CTLY4b3sG9E", "Z1bv_EK7cZM", "KIkrc2Nv-Bo", "TXyvOD4dgeU", "dlhr4hqIczY", "oeknIl3MJv8", "9PR3eyNTLbk", "QOTjkZQNkWk", "XqsAFdFsQmQ&t=6s", "2QHVyxQbh34", "XA3Itg3HHag", "xVtHiX12TVw", "tMPzhhohExk", "v5RNVbxR78E", "0TpzMDOEJFM", "pNIWOHcZkZM", "FjIbuwNDpDo", "aoWUD8GvZ8k", "AxkQzj7M8Gw", "dJ0ChDF7CIU", "D15QH72xfPA", "iwEvOrNhJQQ", "Rej2rmTDnCQ", "V1dPbQZvtdg", "f6_SdYFDgt0", "Avn7ABVHPYk", "CKgq57TBHro", "gvQsyY5lTLM", "CrL5tqFczPE", "Mbh4xd2V6RI", "ZsX58_BvRAs", "LgU4gxpPjF0", "YREflbQzVB4", "rHfcIJUL160", "9VcIMVPIfRk", "oS56i5mjW-Q", "TICY1LdiwO4", "_BOEs7iaX-M", "vaF4T-1mbgc", "XuEzkKsg5DY", "PF39Te4rp1c", "S6tu8ipL_YA", "uQTHvlHfoEY", "JtTneV8SaB0", "SpVOTEOMRuE", "7YkkEKSpJAs", "Ay8UQDS5rPY", "x301B6Mf3Fk", "tTZs5xoySIg", "xFgCaX1DIRg", "TRozAbaKs9M", "LyXTnJQ-vPI", "ZVQTt4CgNZs", "RkdJti43IgU", "xF8BfhIUDos", "WRve0s4iWzI", "vBgcTJ9Z4Qc", "STPFgMxjYe8", "dlKoJSztH1E", "Jv5j8klfbK8", "c1MMT08A9kY", "UcEnYRa74zM", "iZ-IibQlIW4", "dLXA5OAFZx0", "sJ9ZGgLkfJo", "sZmeXQq8mXo", "o0IYq8AhMJc", "s5jzHw3lXCQ", "kJ1_P5oqf6Y", "ejcPaNcMQ9o", "Gflpf0DrCgw", "x0HzNIa1akc", "N7f71hadNbE", "c5QwTB_6IP4", "9ritLevsP68", "TkRzBUfWne8", "MhwvRQpYquU", "1uEYveSssok", "vZikLJ24YrA", "uOO8yA2eU7M", "dG8mNFz0Uas", "Vw41NZYiALg", "wXEY5vg75EY", "lVReDgGmQkA", "IuUkweUI1DY", "wrd5r1TzkCM", "0GwbSvMIKVg", "cECT_90pgyc", "ww_Mo5HQ8-c", "q1rYhO--TDA", "-hyOB9KBgGg", "vgvCxL7dMJk", "tPXqTQsk5o4", "jul--iFjZo0", "HSOQSnSUlp8", "mGpMaShltbc", "98TxM0zAX0M", "B96ZxnDaNGM", "TJmQonKBmvQ", "4WuTaZ_J-YE", "-Bazy3Ew6D4", "n1m9W_KppZY", "q5hkOPKd9bw", "f5pV1dOlrw0", "YdP0PJ5_yeo", "qA6odz9GmJY", "z0ksMcD9ibc", "uVvEkcN5tW8", "O_UZ2OmARg4", "GfWBbf40o-A", "-aVrzSGgkto", "lod_LUp3ggc", "kypQF72MhJY", "jL-tFPceWBY", "1eFbIHCaXBw", "jXoS_HB1I3o", "j7ah3RA0Alo", "GhESSMvf_to", "9v110OJRzfE", "lvn3_CNVSFs", "3MEHWuXhcHA", "Oo9V2Tv4yOs", "TSfTRBm5_Vk", "-nPY7cLu0S4", "WeCGTosv-_c", "D-On0DGcDlc", "bXTQokbSdKo", "cXK2yh5eNTU", "hAMhr66juP4", "Xh-MLiVCjc0", "lJaca6MgrA0", "7PMoWLXDcac", "Jtldo0wQ3WA", "pU2sCCdlx_I", "ZtCwlCg5t7s", "JolUAwUBa0U", "Sm_Qqwerlss", "Gy5Wh3oLWNA", "6gbvUAU-GoM", "oyORzskAkkY", "zY50Q0MtjPI", "_ThNLMr5NXQ", "qw-RBQcwpBs", "JBdXeSvH9jg", "LQNjSZYlBK0", "76rbrmSeW4g", "pK8_DpY5GOw", "ICudP7-FxVw", "PiUNl984NZE", "i7-6hsgLVy0", "I_LVKVS0h9k", "baGukGHo3uo", "oOSWXo9fpTI", "BYq4a3VCCZA", "g9BU-Wjgs-U", "5Rtj_ZeGEs8", "2guvwQvElA8", "559BewjgD1A", "sOqkRPgbcy4", "dBSSA5ot0tA", "qTY3ePV4RY4", "RuBrwk0GZpc", "wYxwewhf2UI", "hVkQ6x_afFQ", "-rphMwxTr54", "Gx1k_YJlpeY", "n9Fqzq1yqbA", "Q-FJaaoYT80", "5gcV1rJ6MdY", "BZDgI86jUg0", "jEKvMBRe_nU", "96j1qaTwrPo", "x1GfhRVbgTk", "fXP7PgAE8qg", "5C0cpMMniw4", "BGYzL3H06h8", "akFjU5JrPCQ", "Mh9KVJ5cbAE", "rGYCSc08K7k", "OX7aJbTjysw", "ZjpU7TrhusY", "2m2shqv_CUo", "6-rJL3fvb5g", "bxNpcHgMETw", "LsGhhcWGdOA", "1mb0KGCkJr0", "2AR-iW480iA", "VnDgXZEVbLk", "bAMHDJtD8iI", "ho2NDf24GPg", "-mG6vCfm6d8", "fz9zoIpmz2g", "5kYfvfADrbU", "Y53_XngBXhg", "vz7lShQHgOA", "tbEr4PjQLDI", "UW2BK7ff9vI", "4gSVUJpNMBE", "syOwpEhPYdI", "dZWSxzKlnu0", "ZKyIRSTaGvw", "MD8tA5ui-_M", "pjjModsm8yo", "P1kkN2hm59U", "Ou2kqh9Pi8o", "IDUO0FyIcXg", "ZXbjNq2OqD0", "p_E2mNvftVA", "Z0EDxxSLgGA", "RvA2wPPWfsI", "uGU0tFiJsbs", "2cHWStF1ZvQ", "gctHsKUu1NY", "7Uje4pxfSlI", "JpTp-wZgZvc", "o97vnZGibPM", "y1xA0MD4Vos", "DzDflLiEBEA", "ExM7blOVPZ4", "TraNDih4iQ0&t=181s", "8Uci2KsGGsw", "DgwTfTbXmBc", "9k2FBKv8-YU", "9hMop8v15pQ", "P5UPc1nMRsc", "FCY5iXqPOUc", "h60e5U88-OI", "7TiL7OwmBGQ", "BTgWcQpq6qE", "goJ9nsrt6Sw", "kMJPmDRkduU", "ChfKoyFBKTM", "326E3gyA-oQ", "V25Ndkk983U", "sGP2u4vKyQ8", "BqAQ0zL0wDo", "PrJkCbtGx60", "Q6gD3VczyBg", "aO4Y8A1KIXE", "1SzH4BXJpjQ", "XxM80zAu_GI", "1atiQHPPL10", "HZPUJqvoUS4", "n-dQj8N196g", "EbJGscTJEbE", "tpsiBlglM5Q", "ZzDB7L-HFJQ", "iQHfADaPxfA", "74e9h2x-UJk", "Qn6UdATFKcU", "HRl_lHtEFKA", "tqQnkrhIC98", "g0iop_LDanE", "DqojOCes4a0", "toBgts3bTU0", "xtAponkCzGQ", "IaqnKIED_Ns", "s1S-4eMLfCA", "DKdnzrb0Grg", "D6vioIPVzM4", "58MiE_mUDBA", "k9VewWKfH_0", "uOYAF_E9aU0", "35jGRBR0keA", "oNtvBufTTfA", "WSdfptoLcoo", "9NHxQ0J9AT0", "c_qlXBKTSK0", "p0euhqTq_9o", "pZGuILQWQ3E", "LZxl-5ndUWU", "E8GiLJRZIoA", "oiNNoHlA4Vc", "3J1DWnsiY3k", "QsBxGSdAMaY", "6gKJeWzeKlM", "qV8QKZNFxLw", "Fah-LJJaPWg", "_jSW9EdUz7g", "4NM6zEN92k8", "wYxuYmiRoUw", "bfDPtt-bnAI", "cPUMKElDswY", "i7nOuoHYUGM", "tH5pYVUHcZ4", "HVTjQFPam-E", "jgWS4TdLFAE", "NQFs_BnTnFo", "kci9uW1QC20", "cexnx4dYkyg", "2-dnDbwZpWw", "gEX41XF-aCI", "Zj5rnYZwKYc", "_54Kyrbg5e0", "Vrjq2DawQqY", "stc2wQkZ65w&t=82s", "Zs8uyPsDaw0", "6ZcuaSkaYhg", "I7A3aEgtv_o", "tX64AxTBn70", "lmNp5smvBsY", "TtimPI9Ulhk", "jsyT-kozpv0", "3vUHKbiuodc", "tLZTkqE1yGw", "5xu0q9bKn50", "KsszRM5xIKo", "FgL0dt1wX8o", "kUjgP1ctFNE", "De0D7otNxME", "Y3NmIAWRjxI", "6gVTkpHbR84", "1p24r67WB_8", "kn6pF8fAvtw", "GViGSb7eZIU", "-6Erv7oyvzo", "rcyt3RqTTNs", "_HFKc0SzNUw", "03CMxs-JLVI", "jeghGhVdt9s", "xhaBPiaTTsU", "4iBxD6ypolM", "Nlm-zuOx6Kk", "zBvSenX49BU", "5RLGs9Hfs5Q", "NuytBrQXiw8", "7TWvEkmrZZ8", "mPy-UAQxvU8", "0urMFhU4gxQ", "4Tog3FzTH5A", "PqcJ9IXH5Eo", "p9FmPXiXvas", "u3q-iFUnQwA", "YjFd_3cZ-i8", "XctpLHwp3Y4", "9azBZsrlC9M", "KoIsJohXoLY", "h1HIw_UxGmc", "EXrSZPad1uY", "O_lM-yf9fLw", "I2SK9s97KpQ", "HOyQDhWnIQs", "gnE83MFHgJ4", "nWnGE80qjDY", "d9w_QknjTe0", "LUmjLLXl8Y4", "2OnwnckBPIw", "opf1XI7vZ5Q", "IcJWPpFq3oE", "ifu6W96GCzQ", "ubODqUZobdE", "QGCgHiMYBpc", "pbX33fdgXLk", "d062SdqVPPw", "bF7TtxLmGSA", "Wimo09WV-rY", "UuvS73lxhCw", "H9pFLOD31QY", "FUfTH3vGRrk", "6T6fIOR349I", "Dd-ZIIcgzPI", "9BP95ORbi7s", "XO-5B_s5j-0", "Z4WqfS4-kWc", "FfFTNsowDvk", "kP_iiX_0Ls4", "Iaj6Hh2kr9E", "6aNm3qWkW8A", "pmODUrfdCIk", "d1KnlszBgCg", "MFLqsF7rw2c&t=211s", "7d4Leve0cfs", "BHMZV-voZpc", "julFaEd_-40", "IY3sfT0b6BM", "MD6y8Qo2RqU", "P6M0K85-Wzk", "NbONYSyU_78", "ayh9W1xz8EE", "066b165z_Qc", "1jfuEKslk3A", "uD9MIZ1v0ZI", "FR6YrwiPqCg", "RwLVZnVGGkA", "zNF122Svxus", "7JlgKCUqzA0", "MIHRugasPLQ", "NhVR7gOSXPo", "1G433aoU9Eg", "g70k-7rKFhY", "oe1UXQILfUQ", "BFXL91Ox9Wg", "GTP1veFqENk", "E7jcLFNhgog", "g2VRNBU91yI", "t_vlKxlkS9Y", "DdM9UbIKllk", "FoKK_LFRCfc", "A1Py2xIFwWQ", "N2KQRadD_nc", "G0oCwI6YCJ0", "EYRziHn4hlY", "WCzUdnip7NA", "aB70Zy8JlxU", "8d1DkIxF8qw", "Kzb74kzFAIs", "96TBYaBWT_Q", "mj9kh5Guz6M", "BYYjdOJDVac", "2p6TY2DiViE", "c0a5OyqEfmA", "UVlEu0VtdAI", "EhEjJRm_F28", "8TNAnQI_CIA", "cp253ItgyKM", "GQknY_MlkiM", "oUZy0m6KT8s", "hkLFxXmE8iA", "3a1pmL-cG58", "93yoR_aEhTM", "QQ8my6PCaHI", "uqfItMNyS1A", "TLZ3zFuW_tU", "KCY_MT6FTWs", "qjdn1kzRjgI", "3DqjMX756Xs", "c_GARyzanTs", "35YDnWTjcr0", "9RfNXrvXmUc", "P4QzMdVOaK8", "CKlhr60P9e4", "zDZc_i-IdnU", "GncYzuRMtb8&t=256s", "y4XGY0_cwcM", "mnoKgAzacYI", "z5tYaox2hcQ", "RZYn5N-ZPgI", "KDQjozjYLnQ", "DxAYzhFVoTo", "f5CWtS1uprY", "rvDTQ6K-E-k", "L6iMmCSayBQ", "C6QFnJCC4rw", "oaP1nFZ9AXE", "HaHdAqLTBxw", "BPp1KFTdxPA", "YCpB4TkxDAg", "b4AscG3KNww", "oImZsAI1L0Q", "KYe2wORHtDw", "zS83sGWP6_Y", "_tOjrAsg49M", "98l7jfJDS9I", "f4ggrKe1L8Q", "gCRFlrdTQEc", "jZVtKjAFN8A", "-qOaHkgiSDg", "8two2t3W744", "O05TZfI2pGI", "bT4G0yvqgxE", "8kSCYfBL7ys", "SIPHxE6mlQ4", "sfsRaoNRz3c", "1ZHlAUiY_rE", "U-14DX6YAkE", "86ork7g4BmU", "CHOCYiruKMA", "bv4kXC53jPA", "DhRZMbPHhYA", "WFaqrf7mto4", "J01h-rf8VEs", "DSZd8wyL1f8", "TFmQOIVUTSk", "o0LYD9zgWnw", "U05ixDwsnNs", "cPP0ujuX8Us", "Sta2MejBk08", "6dF9bsQ50Os", "NlOObDUggZE", "3NdN7-ibqcQ", "Kg3TW5bCxZU", "Xoev4iHLSYU", "z-d1VcT_LP4", "XbRVK3Mflk0", "ctXIFmMZrY8", "hbMsoLpktWg", "DL0ApFIrPBg", "nDbZcQSd3JA", "hWFloGsr2LE", "1lfvvQb9PPs", "-F5McHk2bQw", "kwW7oCQJvO8", "c0DRob_k14w", "LPy3QKoFLdo", "-bSlLeE54QE", "KftGV5l5etM", "TLujH83_spA", "gYYPwxSRii0", "ybt3R8ZpnZw", "dbi8GtX3MnI", "Ut7w8al2HDg", "9E72hwm4gAw", "JKDrTeWZLFQ", "s-lGBxzqw_w", "WaA6f6VzYbU", "iB_qlQrBHH8", "utiSyGfkz_A", "POjqZIraOpY", "8Ayels-47TA", "1sLQzDMwihM", "xxDBIW9Xp3E", "K0pVjnrY8Z4", "11npCl8fJec", "773ap1ZIhUI", "_EuGC0FrsrM", "asIlV68IgOU", "Moz5APlwTXo", "jmcibc2Ojks", "EXT7PEKaajo", "DIYHwQlGayE", "Ih7CyMZwFrA", "nMKW06FwyyI", "jz5ediLt2to", "hPaRwwpdw7M", "DQtA2MB6AIA", "gsT50zcZvuE", "DcZVxP6lTrE", "lTNotLvyiAk", "GX2675R_xwg", "BCRODs_O7rU", "WJDWuGXDY1o", "KQTQQH_s8JY", "R5PMzEwISdo", "3v8x37czGLY", "MBghmVOHZeM", "A9_UPkg9GZ4", "TTUecbIlhzc", "JErwaYfSzBY", "RI5Fq16W36c", "5ldLzuZj-lQ", "_QAjRMBgzxc", "h27t7elN5Qs", "mSuJMRw9CiE", "02XbUrAdbXU", "UsuJKKkjbT4", "FRZ2YXlZV-o", "U_M1VdHohyE", "INa8fMw66PY", "KtDtaWSFsnQ", "FUb76AnQsog", "XLHtYpjAF48", "3jqrOpPA5ec", "e4kFWroi3kY", "QiaZNdGPcqA", "lg6xpoqnlmU", "sxjrzJfv07A", "7bYPF4TZA3c", "2SZiI2KhWfU", "QG1HRWca9C8", "tKktRZA3Rds", "gdzYC2ngrDc", "vqxUkDg4zNQ", "bnIFtOxQb2I", "4rCUK5K6wwY", "fwg0vgT6FsQ", "FyUcXeO16XM", "O4nFHmbIvAs", "rjYqa9uXywQ", "xJkOdBorheE", "UXiW90xStnk", "XupQR_PjKiE", "M2ZUj9GhRQs", "kKqU8V6eI7w", "8bkzv9tBXls", "pzfs6WFRpZE", "t1NlB_CsFbA", "5JObthAtfIc", "_HYxbVomA4Q", "_ACg1hUKvWs", "9edhLI7XBjI", "QHY03RIXvYo", "gFBv0zB98lg", "_ZT6nPfDuSc", "KGJBANYf6P8", "StZCIDBKI-A", "MGFYDZsxD6I", "D0K6Zx0J3-U", "zWcTYaW5hak", "QRJmRPxl5SM", "Hvyvvyy6dC8", "BoV5_TVWPz8", "V8KfWPKMuc8", "vzKl6sKnfKM", "kSsgOSpWbpI", "YRPLGnR_6XI", "u6cS_0RGu24", "ybbsYRtmTpE", "smAXMO6s520", "uX0TtY8W24c", "-G7z9gTxQmw", "7sKdF4bpZok", "2pTg7pSKxDE", "F6yC-m6j5H4", "rRAN1CLHQSU", "-UkI6ffXULw", "wO1q94rl5pg", "qyHQfpDqEAw", "pKJW8BzrKMY", "FwBlhRc6nIg", "etxH5vIo_UE", "zq5rGjt-9rQ", "DddapGFxgQI", "W4es0vBWAgY", "wSiQU5gl43M", "hDOvKy4b9CQ", "CZFZcdQIUVY", "epobzyVjvbM", "Szbkxjs5WFk", "uXuBAZtXiko", "GvbYUwg1eEo", "ktbgXEkQeJ8", "4-JsENpE9DI", "Ooq7FlSVlPw", "rijFLL9waGk", "JmyC7KM5Qxk", "Ah3pq_lWlzc", "dxy8tJptKGY", "EenxAWPetFo", "uyIVpyq1ai8", "n-IOmxexAQQ", "8stbDMs040U", "wZhEEok-R6s", "gt9kJYSsQEE", "K-VuJdbugq4", "wKx_BjDV8Kc", "4p0a1HU2kJU", "xwxq_scIaK4", "xHHtAecAyh4", "AuE3RtOn9IA", "Ks5EmaDDQbQ", "v35pTCTHUZ0", "SHT0kNvHmv0", "WWbi4yNr6rs", "q942RdXVYRA", "5VXXsX1SHhY", "_KaVz0Px5pc", "8BDmUSDaDJE", "wrT9ZvDMLa4", "Kpfgp-7U-Dw", "xBWhi3wO5lc", "4XwT-K8Z7w4", "pfxWUz-FcmY", "JT9l-BAotqs", "X72mAbXzIRg", "dwZSvmv92cU", "8CaW_RduJJM", "_QP-ebdwaxQ", "BBCI2HeJcXM", "94gnXGyHQU8", "t_Y1l16PkRg", "Yutzdt0OaQY", "N_FN8nx8aXA", "CxRV-zLzHN4", "1fX8ql1sa1E", "TEBNxNJnJCc", "xCTRPVcGVRY", "rA7MK-VDFBs", "_VEmMfO7Dh4", "way3UK5-nDQ", "Cq2SO3mtRQA", "qDt_hlQjONE", "oLnRDaNihUk", "yX0Xd0UWGKo", "CaKVcTxESB8", "0yHOELfkL8s", "L8-SnVFxLEI", "KH3Y9wLSNYQ", "NqBeDP4CPXs", "Wxx_x_Ai6o8", "vjbI_HN9IQU", "T55GIZ3owXM", "F8x5B07RVms", "1PH5zbeNOvE", "PJjXMllnK6M", "0ZfDw7p_BCw", "wvOMonPJsg8", "GuUCheugWNQ", "edjNSK5SNgA", "JHlgjO3ueaM", "F-9lDvVURXA", "GXw9PPuF3Mo", "Hr-pOphwGM0", "gZZUY9QChbk", "8myFD9V_UTE", "kkaKmFUoXgk", "XmEwWtOtDUo", "PPKbZtiWIAw", "uFcj-cnzi00", "lwGt195skr4", "CBfvQFeWbFw", "isGH0desmEQ", "lWZJicHhML8", "DheW6s3oNHE", "uy3J4eHszdg", "twA0WcIl7BY", "2upp05awrmc", "pE1DH6CD0Nk", "jx14omOLMxs", "6iJvyBr1PM4", "EYMKYLOpD4Q", "9TlmibP0DJw", "hzRAV5JpNRo", "h-w0kanxUWo", "e8TzNylra0o", "3fxnv53mdR0", "7OpXmtpOm30", "5QzKs0m9cyA", "goU1WPSeCZo", "011iwnQE4x8", "PXinvmKephw", "eOJc9OiRN5A", "c5FwyXv7hS8", "_-JyVN9pg24", "yV0zO1DF-sA", "9O-CJEwcQnY", "hjGxPncSH08", "Jfbt-P1EIIc", "LgrJ4p3c7NY", "x0Mct77ZqoI", "Kv0DuMQvkBA", "xhcKAClO-AM", "cVgfkzUewwk", "5OgHXSWGubs", "th4Zslu1ddE", "GPQzqtXHCow", "f5t5D1JuaMk", "iVonlojPJKU", "j_b-tU94e1w", "6u8AFQHj1kc", "XmrDY4vB3f8", "k1F2GgFNqvw", "T6iJu4Tds48", "1Q7R9Rety0I", "9bz0fjJKiBQ", "D6RPozGNXmw", "DBAcLVMJrZ8", "ophhD0VODLs", "FnK1iVpo5Jc", "9qnQwx_H3DE", "kalUtzq8fUo", "eR_zXctcUlI", "h0zBkkJmizI", "kiVuf84BWjs", "gRdPAuj9SLY", "aM0IAquOJUQ", "RhzvHFphUtA", "YZYXNjdmzKw", "d_vWpJHTh40", "PbEH1Z-mjvU", "l0q0hNHZYsg", "Rq7bAd7JE60", "NLN3V1NLFxo", "cm8p4CmeOfk", "lyJUlIosGsc", "axoChnFhP4I", "Khrn-oaBRSc", "7opPUKE-zY0", "AEY5HYR1utw", "A4vhzAnkZZg", "QtCbWpXkJgs", "08u1FE_zIK0", "i05mmk8MaY0", "usoy0Cz8cro", "6q2t0pU8yJM", "rD184ZMznpU", "CnRKqZyPO5w", "MNVjcnIoUQY", "N6ic9o9nSGc", "CY0fRjvzZlw", "-B6R9a1_Ois", "GHhASXsVjQ4", "tq021eEKw7g", "4fh6IHCr7uo", "yB4HHUqIi9w", "REiYQKr6_s4", "1EhSEXIyMRg", "Vad7TKIywI8", "-awx1Zp57sA", "IEW8KWSLBAI", "L_UtRnudlns", "ZsMxGbwfcXE", "HqmwTC-BzW0", "hVPJHBM7mXc", "sipT3LrppWI", "6k4UkXIt1lI", "Wb4I74COXEo", "m3QzLkcyBOU", "srsNtSdqOis", "TRjl4SZBQ2A", "izH563qCj5w", "C1U6yasTqG0", "W_9xlfc_UPM", "kFZKeo7kFKc", "8AfvsLh1uDM", "A-ppKbDcrNA", "utS4gdEm8mE", "D29keeiCRus", "epvq8_xljCw", "4wPu2ct75yc", "dza9kd_sdaU", "sRqnf8JV_VM", "3Osjy66l-jc", "sYRGd2_C-Wo", "rP9sYgT7Q4I", "4YJ4EFv4OU4", "x_dWcmezdeE", "Kt93Earc6is", "OKcy-dUL6VA", "lCsBRfIdNFg", "WwYHyH9Ne5Q", "cEXJnP9WWsg", "Tw-S-U1Rjrw", "ArXVwXYpyh0", "Fvp4pk6YFvI", "PR6xz-stMwo", "02qyRQg-BdM", "SrBjaMI_LLU", "VohSRh1O6jQ", "54OxnEsFeCQ", "AF9bv3-zTQk", "vTc1srjQUVw", "19Mw_RGZrUU", "2OPfBIesXaI", "4RS2tQrTkII", "5M5lRvQ05Us", "8h_1HdV8SpA", "XXl7Kd1r71o", "fnP1lgUX9Po", "ubXsL5n1OGw", "cyaDHlnaQKM", "3Y_0SMp-9RE", "ssHVFFW9tLA", "bent9ZjWYyo", "pPeun2Hf2Os", "jY9PJxVWORE", "nypmZa10cNc", "H_w-0AAfiWk", "6oCE6lPIdCk", "NrrtUBvttJo", "e-ntwdW3-XM", "ne7hcNA34_I", "5BDBiCW4OUU", "bIJCYT7npi0", "bQFlMMBcfz8", "3mHLSngsssI", "DWMSOHJjSrg", "po1j6RNR0wo", "Bls4lqxA1js", "Hxxm2O0sdgQ", "h_cVq1xvmtc", "OEOmzZrEs6w", "0VIknEMUY1c", "1Pk4TII7lZ4", "ce4Y4Z5Ghuc", "WTVH4zmm528", "uJPGm3Vf1lY", "BGF3JW4rzHQ", "KyTh4nRQ6lQ", "GTmarUnRPvA", "W5ZqodsYPBQ", "v9kkJy26PK8", "kbL76H_7knU", "z-CYAGD2m9w", "MW53aqy_3uU", "f9KnCeWpWQc", "i60BgTxBjtY", "NX7y7LYDrxA", "ppxKFAsexdM", "mteeyHuzNkI", "AlwDki0Srmc", "TpyfweFqEKs", "2OedbC_fOu0", "eega7YRMA6E", "lRV3mzcCsjY", "V-o5wqsEJcs", "ZBk9w4bc_b4", "drt55VbpVAY", "JE-73wJNE58", "byoH-UQr0Ls", "FTjYgPlY63E", "EY_yMtPCzSg", "20qPo1wfZXU", "SwB7OrKVeJ0", "iZSO9dbSYIc", "nlzH9Al3AV8", "LBmk5r5xl5M", "pYyflMFZgz4", "wPajQt1Ms3s", "HrUWyTMX_Yo", "SA5aTtLNWxs", "6Pu2gj6TaCg", "B95BrkM_Yo0", "LltdbcGu4aE", "Y2-5eXyHsfo", "w-ygMuaoWaU", "t-I4GXYVJ1M", "OMt2n6mE7PE", "Evw1oh1lP3E", "W8FjoZZPxkE", "M6KorDnMeYw", "M1hqMgc7Qa4", "34976SngvrY"]
download_clips(videos[:434], "inexcusable", dry=False)
